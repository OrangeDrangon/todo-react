(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){e.exports={container:"CatagorySelect_container__2j6vd",dropdown:"CatagorySelect_dropdown__2CXMQ"}},149:function(e,t,a){e.exports={container:"Root_container__2zXX5"}},152:function(e,t,a){e.exports={container:"Tasks_container__1tILs",modal:"Tasks_modal__1oQ74"}},31:function(e,t,a){e.exports={wrapper:"Task_wrapper__iBui4",check:"Task_check__cDJcm",task:"Task_task__2IPYE",time:"Task_time__1o5Dz",string:"Task_string__16WRT",fill:"Task_fill__2LNak",more:"Task_more__260sV",border:"Task_border__3aA0i"}},37:function(e,t,a){e.exports={card:"Table_card__pykU6",header:"Table_header__2Kt3q",content:"Table_content__1GtD7",tasks:"Table_tasks__12zR4",actions:"Table_actions__1gPY-"}},38:function(e,t,a){e.exports={modal:"TaskDetails_modal__-0MBN",card:"TaskDetails_card__1BtU6",form:"TaskDetails_form__2mGfd",field:"TaskDetails_field__W6j8c"}},5449:function(e,t,a){e.exports=a(5599)},5454:function(e,t,a){},5599:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),i=(a(5454),a(149)),o=a.n(i),u=a(3),l=a.n(u),d=a(9),f=a(21),p=a(37),v=a.n(p),m=a(150),b=a.n(m),k=(a(5457),a(113)),h=a.n(k),w=a(19),x=a(48),g=a(84),y=a.n(g);var O=function(e){var t=e.submit,a=Object(n.useState)(""),c=Object(f.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(!1),u=Object(f.a)(o,2),p=u[0],v=u[1];return r.a.createElement("div",null,r.a.createElement(w.c,{color:"primary",onClick:function(){return v(!0)}},r.a.createElement(x.b,null)),r.a.createElement(w.d,{className:y.a.modal,open:p,onBackdropClick:function(){return v(!1)},onEscapeKeyDown:function(){return v(!1)},children:r.a.createElement("div",{className:"".concat(y.a.card," card")},r.a.createElement(w.f,{className:y.a.input,label:"Name",onChange:function(e){var t=e.currentTarget;return i(t.value)}}),r.a.createElement(w.a,{color:"primary",variant:"contained",onClick:Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(s);case 2:if(!e.sent){e.next=4;break}v(!1);case 4:case"end":return e.stop()}},e)}))},"Submit"))}))};var j=function(e){var t=e.onChange,a=e.catagory,n=e.setCatagory,c=e.catagories,s=e.addCatagory,i=a?{label:a.label,value:a.value}:"";return r.a.createElement("div",{className:h.a.container},r.a.createElement(b.a,{className:h.a.dropdown,options:c,onChange:t,value:i}),r.a.createElement(O,{submit:function(){var e=Object(d.a)(l.a.mark(function e(t){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.toLowerCase(),!(t.length>0&&-1===c.map(function(e){return e.value}).indexOf(a))){e.next=9;break}return e.next=4,s({label:t,value:a});case 4:return r=e.sent,n(r),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}))},_=a(152),E=a.n(_),T=a(24),C=a(31),N=a.n(C),D=a(158),A=a(87),S=a(38),I=a.n(S);var P=function(e){var t=e.open,a=e.setOpen,c=e.initialDate,s=e.initialContent,i=e.submit,o=Object(n.useState)(""),u=Object(f.a)(o,2),p=u[0],v=u[1],m=Object(n.useState)(new Date),b=Object(f.a)(m,2),k=b[0],h=b[1];return Object(n.useEffect)(function(){return v(s),h(c),function(){v(""),h(new Date)}},[s,c]),r.a.createElement(w.d,{open:t,onBackdropClick:function(){return a(!1)},onEscapeKeyDown:function(){return a(!0)},className:I.a.modal,children:r.a.createElement("div",{className:"".concat(I.a.card," card")},r.a.createElement("form",{className:I.a.form},r.a.createElement("div",{className:I.a.field},r.a.createElement(w.f,{label:"Task",value:p,onChange:function(e){var t=e.currentTarget;return v(t.value)}})),r.a.createElement(A.b,{utils:D.a},r.a.createElement("div",{className:I.a.field},r.a.createElement(A.a,{onChange:h,value:k,label:"Date"})),r.a.createElement("div",{className:I.a.field},r.a.createElement(A.c,{onChange:h,value:k,label:"Time"})))),r.a.createElement(w.a,{color:"primary",variant:"contained",onClick:Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(p,k);case 2:if(!e.sent){e.next=4;break}a(!1);case 4:case"end":return e.stop()}},e)}))},"Add Task"))})};var W=function(e){var t=e.task,a=e.index,c=e.deleteTask,s=e.updateTask,i=Object(n.useState)(!1),o=Object(f.a)(i,2),u=o[0],p=o[1];return r.a.createElement("div",{className:N.a.border},r.a.createElement(w.b,{in:!0},r.a.createElement(w.e,{direction:"up",in:!0},r.a.createElement("div",{className:N.a.wrapper},r.a.createElement("div",{className:N.a.check},r.a.createElement(w.c,{onClick:Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))},r.a.createElement(x.c,null))),r.a.createElement("div",{className:N.a.task},r.a.createElement("div",null,t.content),r.a.createElement("div",{className:N.a.time},r.a.createElement(x.a,null),r.a.createElement("span",{className:N.a.string},Object(T.a)(t.date,"MMMM do h:mm a")))),r.a.createElement("div",{className:N.a.fill}),r.a.createElement("div",{className:N.a.more},r.a.createElement(w.c,{onClick:function(){return p(!0)}},r.a.createElement(x.d,null)))))),r.a.createElement(P,{open:u,setOpen:p,initialContent:t.content,initialDate:t.date,submit:function(){var e=Object(d.a)(l.a.mark(function e(t,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0&&n>new Date)){e.next=6;break}return e.next=3,s(a,{content:t,date:n});case 3:return e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}))};var M=function(e){var t=e.tasks,a=e.deleteTask,n=e.updateTask,c=(t||[]).map(function(e,t){return r.a.createElement(W,{key:e.id?e.id:Math.random(),task:e,index:t,deleteTask:a,updateTask:n})});return r.a.createElement("div",{className:E.a.container},c)};var B=function(e){var t=e.submit,a=Object(n.useState)(!1),c=Object(f.a)(a,2),s=c[0],i=c[1];return r.a.createElement("div",null,r.a.createElement(w.b,{in:!0},r.a.createElement(w.e,{direction:"left",in:!0},r.a.createElement(w.a,{color:"primary",variant:"contained",onClick:function(){return i(!0)}},"Add a Task"))),r.a.createElement(P,{open:s,setOpen:i,initialDate:new Date(Date.now()+9e5),initialContent:"",submit:t}))};var q,R,L,U,X=function(e){var t=e.deleteCatagory;return r.a.createElement(w.b,{in:!0},r.a.createElement(w.e,{direction:"right",in:!0},r.a.createElement(w.a,{color:"secondary",variant:"contained",onClick:Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))},"Delete Catagory")))},z=a(80),J=a(57),K=a(115),Y=a(159),G=a(154),Q=a(160),V=a(155),Z=a(156),$=(a(5595),a(85)),F=a(86),H=a(157),ee=function(){function e(t){var a=t.id,n=t.catagoryId,r=t.content,c=t.date;Object($.a)(this,e),this.id=void 0,this.catagoryId=void 0,this.content=void 0,this.date=void 0,this.id=a,this.catagoryId=n,this.content=r,this.date=c}return Object(F.a)(e,[{key:"save",value:function(){var e=Object(d.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.addTask(this);case 2:return(t=e.sent).id&&(this.id=t.id),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.id){e.next=3;break}return e.next=3,ae.tasks.where("id").equals(this.id).delete();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),te=(U=!1,q=function(e,t){var a=Object.getOwnPropertyDescriptor(e,t)||{};a.enumerable!=U&&(a.enumerable=U,Object.defineProperty(e,t,a))},R=function(){function e(t){var a=t.id,n=t.label,r=t.value;Object($.a)(this,e),this.id=void 0,this.label=void 0,this.value=void 0,Object(V.a)(this,"tasks",L,this),this.id=a,this.label=n,this.value=r,this.tasks=[]}return Object(F.a)(e,[{key:"save",value:function(){var e=Object(d.a)(l.a.mark(function e(){var t=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.transaction("rw",[ae.catagories,ae.tasks],Object(d.a)(l.a.mark(function e(){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.addCatagory(t);case 2:if(!(a=e.sent).id){e.next=10;break}return t.id=a.id,e.next=7,Promise.all(t.tasks.map(function(e){return ae.tasks.put(e)}));case 7:return n=e.sent,e.next=10,ae.tasks.where("catagoryId").equals(t.id).and(function(e){return!!e.id&&-1===n.indexOf(e.id)}).delete();case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"loadTasks",value:function(){var e=Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.id){e.next=7;break}return e.next=3,ae.tasks.where("catagoryId").equals(this.id).toArray();case 3:e.t0=function(e){return new ee(e)},this.tasks=e.sent.map(e.t0),e.next=8;break;case 7:throw new Error("Please save the catagory to access its foreign objects");case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.id){e.next=5;break}return e.next=3,Promise.all(this.tasks.map(function(e){return e.delete()}));case 3:return e.next=5,ae.catagories.where("id").equals(this.id).delete();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],[{key:"getAll",value:function(){var t=Object(d.a)(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.catagories.toArray();case 2:return t.t0=function(t){return new e(t)},t.abrupt("return",t.sent.map(t.t0));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}]),e}(),L=Object(Z.a)(R.prototype,"tasks",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R),ae=new(function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(Y.a)(this,Object(G.a)(t).call(this,e))).catagories=void 0,a.tasks=void 0,a.version(1).stores({catagories:"++id, label, value",tasks:"++id, catagoryId, content, date"}),a.catagories=a.table("catagories"),a.tasks=a.table("tasks"),a.catagories.mapToClass(te),a}return Object(Q.a)(t,e),Object(F.a)(t,[{key:"addCatagory",value:function(){var e=Object(d.a)(l.a.mark(function e(t){var a,n,r=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(K.a)(t,["id"]),e.next=3,this.transaction("rw",[this.catagories],Object(d.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,r.catagories.put(Object(J.a)({id:a},n));case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,r.catagories.put(n);case 8:e.t0=e.sent;case 9:return t=e.t0,e.abrupt("return",new te(Object(J.a)({id:t},n)));case 11:case"end":return e.stop()}},e)})));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addTask",value:function(){var e=Object(d.a)(l.a.mark(function e(t){var a,n,r=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(K.a)(t,["id"]),e.next=3,this.transaction("rw",[this.tasks],Object(d.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,r.tasks.put(Object(J.a)({id:a},n));case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,r.tasks.put(n);case 8:e.t0=e.sent;case 9:return t=e.t0,e.abrupt("return",new ee(Object(J.a)({id:t},n)));case 11:case"end":return e.stop()}},e)})));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCatagory",value:function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,this.catagories.where("value").equals(t).limit(1).toArray();case 3:return e.t1=e.sent[0],e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(H.a))("todo");var ne=function(){var e=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)(function(){Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,te.getAll();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}))()},[]);var c=function(){var e=Object(d.a)(l.a.mark(function e(t){var n,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new te(t).save();case 2:return n=e.sent,c=[n].concat(Object(z.a)(a)),r(c),e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(d.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.slice()).splice(n.indexOf(t),1),e.next=4,t.delete();case 4:r(n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return{catagories:a,addCatagory:c,deleteCatagory:s}}(),t=e.catagories,a=e.addCatagory,c=e.deleteCatagory,s=Object(n.useState)(null),i=Object(f.a)(s,2),o=i[0],u=i[1],p=function(e){var t=Object(n.useState)([]),a=Object(f.a)(t,2),r=a[0],c=a[1],s=function(){var t=Object(d.a)(l.a.mark(function t(a){var n,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,new ee(a).save();case 3:n=t.sent,s=[n].concat(Object(z.a)(r)),c(s);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=Object(d.a)(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return t.next=3,e.loadTasks();case 3:return e.tasks.reverse().splice(a,1).reverse(),t.next=6,e.save();case 6:c(e.tasks.slice());case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(d.a)(l.a.mark(function t(a,n){var r,s,i,o;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.content,s=n.date,!e){t.next=12;break}return t.next=4,e.loadTasks();case 4:return i=e.tasks.slice().reverse(),(o=i[a]).content=r,o.date=s,e.tasks=i.slice().reverse(),t.next=11,e.save();case 11:c(i);case 12:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){Object(d.a)(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,e.loadTasks();case 3:return c(e.tasks.slice().reverse()),t.abrupt("return",function(){c([])});case 5:case"end":return t.stop()}},t)}))()},[e]),{tasks:r,addTask:s,deleteTask:i,updateTask:o}}(o),m=p.tasks,b=p.addTask,k=p.deleteTask,h=p.updateTask,w=function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,ae.getCatagory(t.value);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=o&&o.id?o.id:null;return r.a.createElement("div",{className:"".concat(v.a.card," card")},r.a.createElement("h1",{className:v.a.header},"Todo"),r.a.createElement("div",{className:v.a.dropdown},r.a.createElement(j,{onChange:w,catagory:o,setCatagory:u,catagories:t,addCatagory:a})),o&&x?r.a.createElement("div",{className:v.a.content},r.a.createElement("div",{className:v.a.tasks},r.a.createElement(M,{tasks:m,deleteTask:k,updateTask:h})),r.a.createElement("div",{className:v.a.actions},r.a.createElement(B,{submit:function(){var e=Object(d.a)(l.a.mark(function e(t,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0&&a>new Date)){e.next=6;break}return e.next=3,b({catagoryId:x,content:t,date:a});case 3:return e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}),r.a.createElement("div",{style:{flex:"1 0 0"}}),r.a.createElement(X,{deleteCatagory:Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(o);case 2:u(null);case 3:case"end":return e.stop()}},e)}))}))):"")};var re=function(){return r.a.createElement("div",{className:o.a.container},r.a.createElement(ne,null))},ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(r.a.createElement(re,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");ce?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):se(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):se(t,e)})}}()},84:function(e,t,a){e.exports={modal:"AddCatagory_modal__MX7aZ",card:"AddCatagory_card__31car",input:"AddCatagory_input__2y1YX"}}},[[5449,1,2]]]);
//# sourceMappingURL=main.dadbe2ff.chunk.js.map